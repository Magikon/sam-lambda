.PHONY: cpshared build-HelloWorldFunction

build-HelloWorldFunction: cpshared
	cp *.js $(ARTIFACTS_DIR)
	cp package.json $(ARTIFACTS_DIR)
	cp package-lock.json $(ARTIFACTS_DIR)
	cd $(ARTIFACTS_DIR) && npm install --production --arch=x64 --platform=linux
	cp -R $(PWD)/shared/ $(ARTIFACTS_DIR)/node_modules/

cpshared:
	cd $(PWD); cp -R $(PWD)/shared/ $(ARTIFACTS_DIR)/node_modules/;
